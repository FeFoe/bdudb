<header>
	<div class="container">
		<div class="row">
			<div class="col-sm-12">
			
				<div>
					<div class="image-cropper">
						<a href="#/imageUpload"><img class="img-hor" ng-src="http://debating.de/BDUDBdev/userpics/{{user.image}}" onerror="this.src='images/bdu_quad.png'"/></a>
					</div>
				</div>
				<div class="intro-text">
					<span class="name">Hello {{user.vorname}}</span>
					<hr class="star-light">
					<span class="skills">&nbsp; Here you find your User Info, Tournaments and Finances &nbsp;</span>
				</div>
			</div>
		</div>
	</div>
</header>

<!-- User Info Section -->
<section id="user-info">
	<div class="container">
		<div class="row">
			<div class="col-sm-12">
				<h2>User Info</h2>
				<hr class="star-user">
			</div>
		</div>
		<div class="row">
			<div class="col-sm-8 col-sm-offset-2">
				<div class="user-info-table">

					<table class="table">
						<tr>
							<th>id:</th>
							<td>{{user.id}}</td>
						</tr>
						<tr>
							<th>email:</th>
							<td ng-hide="update">{{user.email}}</td>
							<td ng-show="update"><input class="form-control" name="email" ng-model="user.email" required="true"></td>
						</tr>
						<tr>
							<th>vorname:</th>
							<td ng-hide="update">{{user.vorname}}</td>
							<td ng-show="update"><input class="form-control" name="vorname" ng-model="user.vorname"></td>
						</tr>
						<tr>
							<th>name:</th>
							<td ng-hide="update">{{user.name}}</td>
							<td ng-show="update"><input class="form-control" name="name" ng-model="user.name"></td>
						</tr>
						<tr>
							<th>gender:</th>
							<td ng-hide="update">{{user.gender}}</td>
							<td ng-show="update">
								<select class="form-control" style="height:auto;" ng-model="user.gender">
									<option value=""></option>
									<option value="f">female</option>
									<option value="m">male</option>
									<option value="-">post</option>
								</select>
							</td>
						</tr>
						<tr>
							<th>food preference:</th>
							<td ng-hide="update">{{user.food}}</td>
							<td ng-show="update"><input class="form-control" name="food" ng-model="user.food"></td>
						</tr>
					</table>

					<div ng-hide="update"><button ng-click="update = !update; SuccessMessage=''; ErrorMessage=''" class="btn btn-raised btn-primary" role="button">Update Info</button></div>
					<div ng-show="update">
						<button ng-click="update = false" class="btn btn-raised btn-danger" role="button">Cancel</button>
						<button ng-click="updateUser()" class="btn btn-raised btn-primary" role="button">Submit</button>
					</div>

					<strong id="snackbarSuccess" class="alert alert-success">{{SuccessMessage}}</strong>
					<strong id="snackbarError" class="alert alert-danger">{{ErrorMessage}}</strong>
				</div>
			</div>
		</div>
	</div>
</section>

<!-- My Tournaments Section -->
<section id="tournament-info">
	<div class="container">
		<div class="row">
			<div class="col-sm-12">
				<h2>Your Tournaments</h2>
				<hr class="star-comments">
			</div>
		</div>
		<div class="row">
			<div class="col-sm-12">
				<div class="my-tournaments-table">

					<table class="table table-hover table-responsive">
						<thead>
							<tr>
								<th>Name</th>
								<th>Place</th>
								<th>Time</th>
								<th>Price</th>
								<th>Role</th>
							</tr>
						</thead>
						<tbody>
							<tr ng-repeat="x in user.tournaments">
								<td ng-click="openDetails(x)" style="cursor: pointer">{{x.name}}</td>
								<td ng-click="openDetails(x)" style="cursor: pointer">{{x.ort}}</td>
								<td ng-click="openDetails(x)" style="cursor: pointer">{{x.startdate | date:'dd.MM.yyyy'}}<br>{{x.enddate | date:'dd.MM.yyyy'}}</td>
								<td ng-click="openDetails(x)" style="cursor: pointer">{{x.speakerprice}}</td>
								<td>{{x.pivot_role}}</td>
								<td>{{x.teamname}}</td>
							</tr>
						</tbody>
					</table>
				</div>
			</div>
		</div>
	</div>
</section>